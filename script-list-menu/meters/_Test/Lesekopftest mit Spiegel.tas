; Lesekopf Testscript
; sendet & empf채ngt MT175 Stromz채hler Werte zum Testen des Lesekopfes
; Der Abstand zum Spiegel sollte 3cm betragen (den Lesekopf nicht auf den Spiegel auflegen,
; Raum sollte nicht zu hell sein). In der Console dann eingeben: sensor53 d1. Kommt dann 
; etwas an? Nach dem Test wieder sensor53 d0 eingeben.
>F
lnv0=lnv0
>S
if (lnv0==0) {
lnv0=1
lsv0="77070100100700ff0101621b520055"
lsv1="77070100010800ff650001018201621e52ff5900000000"
lsv2="77070100020800ff0101621e52ff5900000000"
}
; sende Zufalls-Wirkleistung [W]
lnv1=rnd(1000)-500
sml(1 1 lsv0+hx(lnv1)+"01")
; sende Z채hlerstand Bezug Total [Wh]
sml(1 1 lsv1+hx(26712.92*10000)+"01")
; sende Z채hlerstand Einspeisung Total [Wh]
sml(1 1 lsv2+hx(657.85*10000)+"01")

>M 1
+1,%0rxpin%,s,0,9600,TEST,%0txpin%
1,77070100100700ff@1,Leistung,W,Power_curr,0
1,77070100010800ff@1000,Verbrauch,kWh,Total_in,2
1,77070100020800ff@1000,Einspeisung,kWh,Total_out,2
#
